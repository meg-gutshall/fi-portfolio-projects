---
description: This was my second JS project plan
---

# v2

## Planning

My application will let Flatiron students in the online self-paced track make study group topic requests.

## User Stories

### `Student`

* A `Student` can view all `TopicRequests`
* A `Student` can upvote a `TopicRequest`
* A `Student` can create a `TopicRequest`
  * A `Student` can edit and/or delete their own `TopicRequests`

## Model Attributes & Migrations

{% tabs %}
{% tab title="User" %}
{% code title="app/db/migrate/date\_create\_users.rb" %}
```ruby
class CreateUsers < ActiveRecord::Migration[6.0]
  def change
    create_table :users do |t|
      t.string  :first_name
      t.string  :last_name
      t.string  :email_address
      t.string  :password_digest
      
      t.timestamps null: false
    end
  end
end
```
{% endcode %}
{% endtab %}

{% tab title="TopicRequest" %}
{% code title="app/db/migrate/date\_create\_topic\_requests.rb" %}
```ruby
class CreateRequests < ActiveRecord::Migration[6.0]
  def change
    create_table :topic_requests do |t|
      t.string     :topic
      t.string     :module
      t.text       :description
      t.integer    :upvotes
      t.references :student
      
      t.timestamps null: false
    end
  end
end
```
{% endcode %}
{% endtab %}
{% endtabs %}

Add the `User` enum `role` column to the database only _after_ its values are coded into the `User` model:

```bash
rails g migration AddRoleToUsers
```

Will generate:

{% code title="app/db/migrate/date\_add\_role\_to\_users.rb" %}
```ruby
class AddRoleToUsers < ActiveRecord::Migration[6.0]
  def change
    add_column :users, :role, :integer, default: 0
  end
end
```
{% endcode %}

## Model Associations

#### `User` â€” `TopicRequest`

The associations for when a `User` creates a new `TopicRequest`

{% tabs %}
{% tab title="User" %}
{% code title="app/models/user.rb" %}
```ruby
class User < ApplicationRecord
  has_many :topic_requests, foreign_key: :student_id
  
  enum role: {student: 0, instructor: 1, super_admin: 2}
end
```
{% endcode %}
{% endtab %}

{% tab title="TopicRequest" %}
{% code title="app/models/topic\_request.rb" %}
```ruby
class TopicRequest < ApplicationRecord
  belongs_to :student, class_name: "User"
end
```
{% endcode %}
{% endtab %}
{% endtabs %}

## Domain Model

![](../../.gitbook/assets/model-maps2.png)

## JS Modularization

* Find a place to house the URLs and options for the `fetch()` methods
* Refactor code after it's written out

## Wireframing & View Pages

### Menu

* Home: the user's dashboard page
* Topic Requests: displays all topic requests
  * Submenu has a drop-down list of modules where topic requests are displayed by module \(plus other for topics outside of the curriculum's scope\)

### Dashboard

* Displays the user's topic requests

### All Topic Requests

* Displays a list of all topic requests with associated upvotes

### Topic Requests by Module

* Consists of anchor links from the module submenu to the different sections on the topic requests index page
  * Use Bootstrap-enabled Scrollspy to create these anchor links

### Create a Topic Request Form

* Have this form be inside a pop-up modal
* Trigger an alert when the user clicks the button to create a new topic request
  * Have it say something like, "Remember to check existing topic requests to make sure yours is not a duplicate!"

{% hint style="warning" %}
Either put this button in the menu or at the end of each Module in the Topic Requests index page.
{% endhint %}

### Edit a Topic Request Form

* Allows the user to edit their own topic request

### View Topic Request

* An anchor link to a specific topic request on the topic requests index page

